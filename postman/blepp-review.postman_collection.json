{
  "info": {
    "name": "blepp-review API",
    "_postman_id": "7f2e9b5a-0c3d-4d9d-8b44-0f52f9e8f7f3",
    "description": "Postman collection for BLEPP Review backend controllers.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    },
    {
      "key": "accessToken",
      "value": ""
    },
    {
      "key": "refreshToken",
      "value": ""
    },
    {
      "key": "topicId",
      "value": ""
    },
    {
      "key": "questionId",
      "value": ""
    },
    {
      "key": "flashcardId",
      "value": ""
    },
    {
      "key": "examId",
      "value": ""
    },
    {
      "key": "examSessionId",
      "value": ""
    },
    {
      "key": "practiceSessionId",
      "value": ""
    },
    {
      "key": "generationJobId",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"ChangeMe123!\",\n  \"fullName\": \"Maria Santos\",\n  \"targetExamDate\": \"2026-08-15\",\n  \"dailyStudyHours\": 3\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 201 or 200', function () {",
                  "  pm.expect([200, 201]).to.include(pm.response.code);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  pm.collectionVariables.set('accessToken', json.accessToken || '');",
                  "  pm.collectionVariables.set('refreshToken', json.refreshToken || '');",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"ChangeMe123!\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  pm.collectionVariables.set('accessToken', json.accessToken || '');",
                  "  pm.collectionVariables.set('refreshToken', json.refreshToken || '');",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Refresh",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{refreshToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "refresh"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  pm.collectionVariables.set('accessToken', json.accessToken || '');",
                  "  pm.collectionVariables.set('refreshToken', json.refreshToken || '');",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{refreshToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 204 or 200', function () {",
                  "  pm.expect([200, 204]).to.include(pm.response.code);",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "me"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "me"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Maria Santos\",\n  \"targetExamDate\": \"2026-08-15\",\n  \"dailyStudyHours\": 4,\n  \"avatarUrl\": \"https://ui-avatars.com/api/?name=Maria+Santos\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Topics",
      "item": [
        {
          "name": "List Topics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/topics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "topics"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  if (Array.isArray(json) && json.length > 0) {",
                  "    pm.collectionVariables.set('topicId', json[0].id);",
                  "  }",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Weak",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/topics/{{topicId}}/weak",
              "host": ["{{baseUrl}}"],
              "path": ["api", "topics", "{{topicId}}", "weak"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"weak\": true\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Questions",
      "item": [
        {
          "name": "Search Questions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/questions?query=memory&difficulty=MEDIUM",
              "host": ["{{baseUrl}}"],
              "path": ["api", "questions"],
              "query": [
                {
                  "key": "query",
                  "value": "memory"
                },
                {
                  "key": "difficulty",
                  "value": "MEDIUM"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  if (Array.isArray(json) && json.length > 0 && json[0].id) {",
                  "    pm.collectionVariables.set('questionId', json[0].id);",
                  "  }",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Question",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/questions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "questions"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"topicId\": \"{{topicId}}\",\n  \"text\": \"Which theory emphasizes unconscious processes?\",\n  \"choices\": [\"Behaviorism\", \"Psychoanalysis\", \"Humanism\", \"Cognitivism\"],\n  \"correctAnswerIndex\": 1,\n  \"explanation\": \"Psychoanalysis emphasizes unconscious processes.\",\n  \"difficulty\": \"MEDIUM\",\n  \"source\": \"MANUAL\",\n  \"tags\": [\"theories\", \"freud\"],\n  \"category\": \"theories\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  if (json && json.id) {",
                  "    pm.collectionVariables.set('questionId', json.id);",
                  "  }",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Bulk Create Questions",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/questions/bulk",
              "host": ["{{baseUrl}}"],
              "path": ["api", "questions", "bulk"]
            },
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"topicId\": \"{{topicId}}\",\n    \"text\": \"Retrograde amnesia is loss of what?\",\n    \"choices\": [\"Future memory\", \"Past memory\", \"Motor skills\", \"Language\"],\n    \"correctAnswerIndex\": 1,\n    \"explanation\": \"Retrograde amnesia affects past memories.\",\n    \"difficulty\": \"MEDIUM\",\n    \"source\": \"AI\",\n    \"tags\": [\"memory\"],\n    \"category\": \"memory\"\n  }\n]"
            }
          }
        },
        {
          "name": "Update Question",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/questions/{{questionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "questions", "{{questionId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"Updated question text\",\n  \"choices\": [\"A\", \"B\", \"C\", \"D\"],\n  \"correctAnswerIndex\": 2,\n  \"explanation\": \"Updated explanation\"\n}"
            }
          }
        },
        {
          "name": "Delete Question",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/questions/{{questionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "questions", "{{questionId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Practice",
      "item": [
        {
          "name": "Start Practice Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/practice/session",
              "host": ["{{baseUrl}}"],
              "path": ["api", "practice", "session"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"topicId\": \"{{topicId}}\",\n  \"difficulty\": \"MEDIUM\",\n  \"questionCount\": 10\n}"
            }
          }
          ,
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  pm.collectionVariables.set('practiceSessionId', json.id || '');",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Record Attempt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/practice/attempt",
              "host": ["{{baseUrl}}"],
              "path": ["api", "practice", "attempt"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sessionId\": \"{{practiceSessionId}}\",\n  \"questionId\": \"{{questionId}}\",\n  \"selectedAnswerIndex\": 1,\n  \"timeTakenSeconds\": 25\n}"
            }
          }
        },
        {
          "name": "List Mistakes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/practice/mistakes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "practice", "mistakes"]
            }
          }
        }
      ]
    },
    {
      "name": "Flashcards",
      "item": [
        {
          "name": "List Flashcards",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/flashcards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flashcards"]
            }
          }
        },
        {
          "name": "Create Flashcard",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/flashcards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flashcards"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"topicId\": \"{{topicId}}\",\n  \"front\": \"What is Operant Conditioning?\",\n  \"back\": \"Learning through rewards and punishments.\",\n  \"category\": \"definitions\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status is 200', function () {",
                  "  pm.expect(pm.response.code).to.eql(200);",
                  "});",
                  "try {",
                  "  const json = pm.response.json();",
                  "  if (json && json.id) {",
                  "    pm.collectionVariables.set('flashcardId', json.id);",
                  "  }",
                  "} catch (e) {}"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Flashcard",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/flashcards/{{flashcardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flashcards", "{{flashcardId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"front\": \"Updated front\",\n  \"back\": \"Updated back\",\n  \"category\": \"updated\"\n}"
            }
          }
        },
        {
          "name": "Review Flashcard",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/flashcards/{{flashcardId}}/review",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flashcards", "{{flashcardId}}", "review"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"confidence\": \"HIGH\"\n}"
            }
          }
        },
        {
          "name": "Delete Flashcard",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/flashcards/{{flashcardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flashcards", "{{flashcardId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Exams",
      "item": [
        {
          "name": "List Exams",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/exams",
              "host": ["{{baseUrl}}"],
              "path": ["api", "exams"]
            }
          }
        },
        {
          "name": "Start Exam Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/exams/{{examId}}/session",
              "host": ["{{baseUrl}}"],
              "path": ["api", "exams", "{{examId}}", "session"]
            }
          }
        },
        {
          "name": "Record Exam Answer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/exams/session/{{examSessionId}}/answer",
              "host": ["{{baseUrl}}"],
              "path": ["api", "exams", "session", "{{examSessionId}}", "answer"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"questionId\": \"{{questionId}}\",\n  \"selectedAnswerIndex\": 2,\n  \"flagged\": false\n}"
            }
          }
        },
        {
          "name": "Submit Exam",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/exams/session/{{examSessionId}}/submit",
              "host": ["{{baseUrl}}"],
              "path": ["api", "exams", "session", "{{examSessionId}}", "submit"]
            }
          }
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Overview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/overview",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "overview"]
            }
          }
        },
        {
          "name": "Topic Mastery",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/topic-mastery",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "topic-mastery"]
            }
          }
        },
        {
          "name": "Readiness",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/readiness",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "readiness"]
            }
          }
        }
      ]
    },
    {
      "name": "Generation",
      "item": [
        {
          "name": "Upload PDF",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/generation/upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "generation", "upload"]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            }
          }
        },
        {
          "name": "Run Generation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/generation/run",
              "host": ["{{baseUrl}}"],
              "path": ["api", "generation", "run"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"uploadId\": \"00000000-0000-0000-0000-000000000000\",\n  \"questionCount\": 20,\n  \"model\": \"gpt-4o-mini\"\n}"
            }
          }
        },
        {
          "name": "Check Generation Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/generation/{{generationJobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "generation", "{{generationJobId}}"]
            }
          }
        }
      ]
    }
  ]
}
